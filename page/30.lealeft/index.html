<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.4.0/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
        crossorigin="" />

    <script src="https://unpkg.com/leaflet@1.4.0/dist/leaflet.js" integrity="sha512-QVftwZFqvtRNi0ZyCtsznlKSWOStnDORoefr1enyq5mVL4tmKB3S/EnC3rRJcxCPavG10IcrVGSmPh6Qw5lwrg=="
        crossorigin=""></script>

</head>

<body>

    <div id="mapid"></div>

</body>

<style>
    html,
    body {
        width: 100%;
        height: 100%;
    }

    #mapid {
        height: 100%;
        width: 100%;
    }
</style>

<script>
    // 初始化地图，并设置纬度、经度和缩放，zoom_max=18
    var map = L.map('mapid', {
        center: [30.539553, 104.084627],
        zoom: 16
    });
    // 显示地图
    L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // 添加标注
    var marker = L.marker([30.539553, 104.083507]).addTo(map);
    marker.bindPopup('这是我家').openPopup();

    // 在地图上画圆，画小实心圆就是点
    var circle = L.circle([30.539553, 104.083507], {
        color: 'red', // 颜色
        fillColor: 'green', // 填充色
        fillOpacity: 0.3, // 填充透明度
        radius: 200 // 半径, 
    }).addTo(map);
    circle.bindPopup("这是电子围栏");

    // 添加多边形 
    var polygon = L.polygon([
        [30.536553, 104.090507],
        [30.541553, 104.093507],
        [30.541953, 104.098507]
    ]).addTo(map);
    polygon.bindPopup('这是多边形围栏');


    // // 添加单独的弹出框图层
    // var popup = L.popup()
    //     .setLatLng([30.541553, 104.083507])
    //     .setContent("I am a standalone popup.")
    //     .openOn(map);

    // // 点击事件
    // function defaultClick(e) {
    //     console.log(e)
    // }
    // map.on('click', defaultClick)

    // 点击地图事件有可以显示当前点击位置经纬度的latlng事件
    var popup = L.popup();
    function onMapClick(e) {
        popup.setLatLng(e.latlng)
            .setContent("当前点击位置： " + e.latlng.toString())
            .openOn(map);
    }
    map.on('click', onMapClick);

</script>


</html>